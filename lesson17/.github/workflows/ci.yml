name: First CI Pipeline

# 1. THE TRIGGER: When to run?
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

# 2. THE JOBS: What to do?
jobs:
  build-and-test:
    # The Runner: A virtual machine hosted by GitHub (Ubuntu Linux)
    runs-on: ubuntu-latest

    # The Steps: The recipe
    steps:
    # Step A: Get the code
    - name: Checkout code
      uses: actions/checkout@v3

    # Step B: Install Node.js
    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    # Step C: Install dependencies
    - name: Install dependencies
      run: npm install

    # Step D: Run Tests
    - name: Run Tests
      run: npm test
